server.port=8085
server.servlet.context-path=/

server.tomcat.connection-timeout=60000
server.tomcat.keep-alive-timeout=30000

logging.level.root=INFO
logging.level.org.springframework.web=DEBUG

logging.level.org.hibernate.SQL=DEBUG

logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

logging.level.com.zaxxer.hikari=INFO

logging.level.org.openqa.selenium=INFO

logging.level.org.example=DEBUG

logging.file.name=logs/app.log
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

logging.file.max-size=10MB

spring.jackson.serialization.indent-output=true
spring.jackson.default-property-inclusion=non_null

spring.web.cors.allowed-origins=http://localhost:8085,http://127.0.0.1:8085
spring.web.cors.allowed-methods=GET,POST,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
spring.http.encoding.force-request=true
spring.http.encoding.force-response=true

spring.datasource.url=jdbc:postgresql://localhost:5432/scanning
spring.datasource.username=postgres
spring.datasource.password=admin

spring.datasource.driver-class-name=org.postgresql.Driver

spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000

spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true

spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.open-in-view=false

spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Removido: spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# (Hibernate detecta auto; isso elimina o warning HHH90000025)

spring.h2.console.enabled=false

nemesys.url=https://pdb.nemesys.cloud/dashboards/
nemesys.username=${NEMESYS_USERNAME:foccus.ead}
nemesys.password=${NEMESYS_PASSWORD:foccus123}

spring.cache.type=simple
app.cache.enabled=true
app.cache.ttl=300000

spring.main.banner-mode=off
spring.devtools.restart.enabled=true

# Configs Selenium (sem coment?rios inline!)
app.selenium.timeout=40
app.selenium.chrome.headless=false
# Mude para true em prod (para rodar sem abrir janela do Chrome)
app.selenium.chrome.window-size=1920,1080
app.selenium.chrome.args=--no-sandbox,--disable-dev-shm-usage,--disable-gpu,--disable-extensions,--incognito,--disable-cache,--disable-blink-features=AutomationControlled,--remote-allow-origins=*

# Credenciais de login (hardcoded por default; use env vars em prod)
app.login.username=factory
app.login.password=f@ct0ry